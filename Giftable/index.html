<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta charset="utf-8" />
        <link href="kendo/styles/kendo.mobile.all.min.css" rel="stylesheet" />
        <link href="styles/kendo.common.min.css" rel="stylesheet" />
        <link href="styles/kendo.default.min.css" rel="stylesheet" />
        <link href="styles/main.css" rel="stylesheet" />

        <script src="cordova.js"></script>
        <script src="kendo/js/jquery.min.js"></script>
        <script src="kendo/js/kendo.mobile.min.js"></script>
        <script src="kendo/js/kendo.all.min.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true"></script>

        <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha1.js"></script>
        <script src="scripts/libraries/rsvp.min.js"></script>
        <script src="scripts/libraries/http-requester.js"></script>
        <script src="scripts/app/class.js"></script>
        <script src="scripts/app/persister.js"></script>

        <script src="scripts/app.js"></script>
        <script src="scripts/login.js"></script>
        <script src="scripts/register.js"></script>
        <script src="scripts/location.js"></script>
        <script src="scripts/people.js"></script>
        <script src="scripts/wishlist.js"></script>
        <script src="scripts/giftdetails.js"></script>
        <script src="scripts/addgift.js"></script>

    </head>
    <body>
        <!--Login-->
        <div id="login-view" 
             data-id="login-view"
             data-role="view"  
             data-title="Login" 
             data-model="app.loginService.viewModel"
             data-layout="default">
            <div class="view-content">
                <div class="logo"></div>
                <!--  <h1 class="welcome" data-bind="visible: isLoggedIn">
                Welcome, <span data-bind="text: username"></span>!
                </h1>-->

                <ul data-role="listview" data-style="inset">
                    <li>
                        <label>
                            Username
                            <input type="text" data-bind="value: username"/>
                        </label>
                    </li>
                    <li>
                        <label>
                            Password
                            <input type="password" data-bind="value: password" />
                        </label>
                    </li>
                </ul>

                <div class="buttonArea">
                    <a id="login" data-role="button" data-bind="click: login" class="login-button">Login</a>
                    <a id="signup" data-role="button" data-bind="click: register" class="login-button">Register</a>
                </div>

                <!--<ol class="group-wrp">
                <li>
                <span data-role="touch" data-bind="events: { tap: login }" style="display: inline-block">
                <a data-role="button" class="btn-login btn-big">Login</a>
                </span>
                <span data-role="touch" data-bind="events: { tap: loginWithFacebook }" style="display: inline-block">
                <a data-role="button" class="btn-login-fb btn-big">Login</a>
                </span>
                </li>
                <li class="b-top"><a data-role="button" href="views/signupView.html" class="btn-signup btn-big">Sign up</a> </li>
                </ol>-->
            </div>
        </div>

        <!--Blank layout-->
        <div data-role="layout" data-id="default">

        </div>

        <!--Home-page layout-->
        <div data-role="layout" data-id="home-layout">
            <div data-role="header">
                <div data-role="navbar">
                    <span data-role="view-title"></span>
                    <a class="button" data-align="right" data-role="button" onclick="logout()" >Logout</a>
                </div>
            </div>

            <div data-role="footer">
                <div data-role="tabstrip">
                    <a href="views/people.html#people-view" data-icon="bookmarks">People</a>
                    <a href="views/wishlist.html#wishlist-view" data-icon="favorites">Wishlist</a>
                    <a href="views/addgift.html#addgift-view" data-icon="add">Add gift</a>
                    <a href="views/location.html#tabstrip-location" data-icon="globe">Locate gifts</a>
                </div>
            </div>
        </div>

        <!--Normal tab-page layout-->
        <div data-role="layout" data-id="tabstrip-layout" >
            <div data-role="header">
                <div data-role="navbar">
                    <span data-role="view-title"></span>
                </div>
            </div>

            <div data-role="footer">
                <div data-role="tabstrip">
                    <a href="views/people.html#people-view" data-icon="bookmarks">People</a>
                    <a href="views/wishlist.html#wishlist-view" data-icon="favorites">Wishlist</a>
                    <a href="views/addgift.html#addgift-view" data-icon="add">Add gift</a>
                    <a href="views/location.html#tabstrip-location" data-icon="globe">Locate gifts</a>
                </div>
            </div>
        </div>

        <!--Detailed page layout-->
        <div data-role="layout" data-id="detailed-layout" >
            <div data-role="header">
                <div data-role="navbar">
                    <a class="button" data-align="left" id="backButton" data-role="backbutton">Back</a>
                    <span data-role="view-title"></span>
                </div>
            </div>

            <div data-role="footer">
                <div data-role="tabstrip">
                    <a href="views/people.html#people-view" data-icon="bookmarks">People</a>
                    <a href="views/wishlist.html#wishlist-view" data-icon="favorites">Wishlist</a>
                    <a href="views/addgift.html#addgift-view" data-icon="add">Add gift</a>
                    <a href="views/location.html#tabstrip-location" data-icon="globe">Locate gifts</a>
                </div>
            </div>
        </div>

        <!--New gift tab-page layout-->
        <!--<div data-role="layout" data-id="newgift-layout" >
        <div data-role="header">
        <div data-role="navbar">
        <span data-role="view-title"></span>
        </div>
        <ul id="newgift-buttongroup" class="select-group" data-role="buttongroup">
        <li data-target="views/addgift.html#addgift-view">Add gift</li>
        <li data-target="views/addgift.html#suggestgift-view">Suggest gift</li>
        </ul>
        </div>

        <div data-role="footer">
        <div data-role="tabstrip">
        <a href="views/people.html#people-view" data-icon="bookmarks">People</a>
        <a href="views/wishlist.html#wishlist-view" data-icon="favorites">Wishlist</a>
        <a href="views/addgift.html#addgift-view" data-icon="add">Add gift</a>
        <a href="views/location.html#tabstrip-location" data-icon="globe">Locate gifts</a>
        </div>
        </div>
        </div>-->
        <script>
            var persister = persisters.get();
            
            function logout() {
                persister.users.logout()
                .then(function(data) {
                    app.application.navigate("views/login.html#login-view");
                }, function(err) {
                    console.log(err);
                });
            }
        </script>
    </body>
</html>
